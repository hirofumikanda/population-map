# Population Map

日本の2025年推計人口を地図上で可視化するWebアプリケーションです。

## 概要

このプロジェクトは、国土数値情報の「250mメッシュ別将来推計人口データ」を使用して、日本全国の人口密度をインタラクティブな地図上に表示します。

## 主な機能

- **人口密度ヒートマップ**: 色分けされた地図で人口密度を視覚的に表示
- **クリックで詳細表示**: 地図上の任意の地点をクリックすると、その地点の人口密度をポップアップで表示
- **凡例**: 左下に人口密度の範囲を示す凡例を表示
- **ナビゲーション**: ズーム・パンなどの地図操作が可能

## セットアップ

### インストール

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで `http://localhost:5173` を開いてアプリケーションを確認できます。

## データソース

- **250mメッシュ別将来推計人口データ（国土数値情報）**
  - URL: https://nlftp.mlit.go.jp/ksj/gml/datalist/KsjTmplt-mesh250r6.html
  - 対象年: 2025年推計値
  - メッシュサイズ: 250m × 250m
  - 同一解像度でラスタライズ→Webメルカトル投影→RGBエンコーディング（value = R * 256 * 256 + G * 256 + B）→XYZタイルの順で変換してタイル化


## プロジェクト構造

```
population-map/
├── public/
│   ├── data/
│   │   └── tiles_pop2025_rgb.pmtiles    # 人口密度タイルデータ
│   └── styles/
│       └── style.json                    # MapLibreスタイル定義
├── src/
│   ├── components/
│   │   ├── MapComponent.tsx              # メイン地図コンポーネント
│   │   └── Legend.tsx                    # 凡例コンポーネント
│   ├── hooks/
│   │   └── usePmtilesProtocol.ts        # PMTilesプロトコル登録フック
│   ├── App.tsx
│   └── main.tsx
└── vite.config.ts
```

## ライセンス

このプロジェクトのコードはMITライセンスの下で公開されています。

データは国土数値情報のライセンスに従います。
